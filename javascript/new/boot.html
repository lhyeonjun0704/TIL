<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous">

  </script>

  <!-- Hammer.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js" integrity="sha256-eVNjHw5UeU0jUqPPpZHAkU1z4U+QFBBY488WvueTm88=" crossorigin="anonymous"></script>



  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <link rel="stylesheet" href="index.css">

  <title>Hello, world!</title>
</head>

<body>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Navbar</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Dropdown
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
          </li>
        </ul>
        <form class="d-flex">
          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
      </div>
    </div>
  </nav>



  <div class='black-background'>
    <div class='white-background'>
      <form action="login.php">
        <div class="form-group">
          <input type="email" class="form-control" placeholder="Email" id="email">
          <p id='email-alert'>이메일을 정확하지 않습니다.</p>
        </div>
        <div class="form-group">
          <input type="password" class="form-control" placeholder="Password" id='password'>
          <p id='pass-alert'>패스워드가 정확하지 않습니다.</p>
        </div>
        <button type="submit" class="btn btn-primary">전송</button>
      </form>
      <!-- <p>로그인 하세요.</p> -->
      <button class='black-background-btn'>닫기</button>
    </div>

  </div>

  <a id='show-menu' class='btn btn-danger btn-lg' role='button'>Show menu</a>

  <div class='nav-menu'>
    <h4>S S</h4>
    <a id='nav-sub-button'>Product</a>
  </div>

  <h3 id='hi'>안녕</h3>

  <div class='left-menu'>
    <p>Menu Title</p>
  </div>

  <button class='btn'>모달 열기</button>


  <h4 class='my-4 text-center'>Showcase</h4>

  <div style='overflow: hidden'>
    <div class='slide-container '>
      <div class='slide-box'>
        <img src='./img_01.jpg' />
      </div>
    </div>
    <div class='slide-container'>
      <div class='slide-box'>
        <img src='./img_02.jpg' />
      </div>
    </div>
    <div class='slide-container'>
      <div class='slide-box'>
        <img src='./person.png' />
      </div>
    </div>
    <button class='slide-back'>Back</button>
    <button class='slide-next'>Next</button>
  </div>

  <button class='slide-1'>1</button>
  <button class='slide-2'>2</button>
  <button class='slide-3'>3</button>

  <div class='my-5'>

  </div>

  <div class="container mt-5">
    <ul class="list">
      <li class="tab-button" data-id='0'>Products</li>
      <li class="tab-button active" data-id='1'>Information</li>
      <li class="tab-button" data-id='2'>Shipping</li>
    </ul>
  
    <div class="tab-content">
      <p>상품설명입니다. Product</p>
    </div>
    <div class="tab-content show">
      <p>상품정보입니다. Info</p>
    </div>
    <div class="tab-content">
      <p>배송정보입니다. Shipping</p>
    </div>
  </div>

  <script src='./tab.js'></script>



  <script>


    var img1 = document.querySelectorAll('.slide-box img')[0];

    // Hammer에는 Pan, rotate, pinch 등등 더 있다 구글링 ㄱㄱ

    var manager = new Hammer.Manager(img1);
    manager.add(new Hammer.Pan({threshold: 0})); // 숫자만큼 이동을 했을 때 Pan 발동.

    manager.on('pan', function(e){
      console.log(e.deltaX); 
      if ( e.deltaX < -1 ){
      $('.slide-container').css('transform', 'translateX('+ e.deltaX +'px)');
      //터치가 끝날 때 이미지2로 변하게 해주셈 
      if (e.isFinal && current_img == 1) {
        $('.slide-container').addClass('transforming');
        $('.slide-container').css('transform', 'translateX(-100vw)');
        setTimeout(function(){
          $('.slide-container').removeClass('transfroming');
        }, 1000); 
      }
    }
    });


    //navbar

    $(window).on('scroll', function(){
      if($(window).scrollTop() > 100){
        $('.container-fluid').addClass('nav-black');
      } else if($(window).scrollTop() < 100){
        $('.container-fluid').removeClass('nav-black');
      }
    });



    // slider
    $('.slide-1').on('click', function(){
      $('.slide-container').css('transform', 'translateX(0vw)');
    });

    $('.slide-2').on('click', function(){
      $('.slide-container').css('transform', 'translateX(-100vw)');
    });

    $('.slide-3').on('click', function(){
      $('.slide-container').css('transform', 'translateX(-200vw)');
    });



    var current_img = 1;


    $('.slide-next').click(function(){

      if( current_img < 3){
      $('.slide-container').css('transform', 'translateX(-' + current_img + '00vw');
      
        current_img += 1;
      }
      

      // if(current_img == 1){
      //   $('.slide-container').css('transform', 'translateX(-'+ current_img + '00vw');
      //   current_img += 1;
      // } else if( current_img == 2){
      //   $('.slide-container').css('transform', 'translateX(-200vw');
      //   current_img += 1;
      // }
    });

    $('.slide-back').click(function(){
      if(current_img == 2){
        $('.slide-container').css('transform', 'translateX(0vw');
        current_img -= 1;
      } else if( current_img == 3){
        $('.slide-container').css('transform', 'translateX(-100vw');
        current_img -= 1;
      }
    });


    // 변수는 선언/할당/범위만 알면된다.
    // 선언-변수만듦/ 할당-값을 집어넣음/ 범위-지역이나 전역
    // var은 재선언 가능하고 범위는 function이고
    // let은 재선언 불가능. 범위는 {} 이다.
    // const도 재선언 불가능 범위는 {} 게다가 const는 재 할당도 불가능하다.


    //정규식 만들기 - 문자를 검사할 때 쓰는 것이 정규식이다.


    // /[A-z]/.test('abcdefg'); // '여기' 안에 A-z라는 글자가 있는지 검사하는 것이다.
    // \(역슬레쉬)+S는 특수문자 포함 모든 문자를 표현하는 식이다.(문자 딱 하나만 말한다.)
    // ex) 이메일 검사에서 @는 \S@라고 넣으면 됩니다.
    // 선생님의 이메일 정규식 / \S+@\S+\.+\S+ / +기호를 넣으면 문자 여러개도 찾을 수 있음 




    $('#show-menu').on('click', function () {
      $('.left-menu').animate({ marginLeft: '0px' });
    });



    $('#hi').click(function () {
      $('#hi').animate({ marginLeft: '100px', marginTop: '100px' }, 500);
    });



    $('form').on('submit', function (e) {

      var email_i = $('#email').val();
      var emailRule = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
      if (emailRule.test(email_i) == false) {
        e.preventDefault();
      }


      var password_i = $('#password').val();
      // 특수문자 + 문자 + 숫자 포함 형태의 정규식(8~15자리)
      // var regex = /^.*(?=^.{8,15}$)(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&+=]).*$/;
      // 숫자와 문자 포함 형태의 6~12자리 이내의 암호 정규식
      // var regex = /^[A-Za-z0-9]{6,12}$/;
      var passwordRule = /[A-Z]+/
      if (passwordRule.test(password_i) == false) {
        e.preventDefault();
      }

    });





    //   if($('#email').val() == ""){
    //     e.preventDefault(); // form의 전송을 막는 코드
    //     $('#email-alert').show();
    //   } else if($('#password').val() == ""){
    //     e.preventDefault();
    //     $('#pass-alert').show();
    //   }
    // });



    $('#email').on('change', function (e) {
      console.log(e);
    });


    $('.black-background').click(function(e){

      // 이것으로 실제로 클릭한 것만 선택하여 버블링을 방지할 수 있다.
      // e.target;  - 실제로 클릭한 요소
      // e.currentTarget;  - 지금 이벤트리스너가 달린 곳을 의미 $(this)와 같은 의미이다.
      // e.preventDefault();  - 기본동작 막기

      if(e.target == e.currentTarget){ // e.currentTarget 대신에 this 도 쓸 수 있음.
        // e.target은 자바스크립트 문법이기 때문에 $()인 jqeury 문법은 쓸 수 없다.
        $('.black-background').css('transform', 'translateY(-1200px)');
      }
    });


    $('.black-background-btn').on('click', function () {
      $('.black-background').css('transform', 'translateY(-1200px)');
    });


    $('.btn').on('click', function () {
      $('.black-background').css('transform', 'translateY(0px)'); // 이런방법이 있찌만
      //.addClass()를 사용해서 javascript에서 css를 짜지 마라!
    });

    $('#nav-sub-button').click(function () {
      $('.nav-sub').slideToggle();
    });

      // 요즘은 css에서 애니메이션을 준다. javascript는 좀 ㄴ리다.
  </script>



  <!-- Optional JavaScript; choose one of the two! -->

  <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
    crossorigin="anonymous"></script>

  <!-- Option 2: Separate Popper and Bootstrap JS -->
  <!--
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    -->
</body>

</html>